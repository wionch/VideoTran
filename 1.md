# 问题列表

## 描述

``````log
步骤 2/4: 使用 whisperx 加载对齐模型并对齐结果...
C:\Users\Administrator\.conda\envs\whisper\Lib\site-packages\transformers\configuration_utils.py:334: UserWarning: Passing `gradient_checkpointing` to a config initialization is deprecated and will be removed in v5 Transformers. Using `model.gradient_checkpointing_enable()` instead, or if you are using the `Trainer` API, pass `gradient_checkpointing=True` in your `TrainingArguments`.
  warnings.warn(
Failed to align segment ("你推网吧"): original start time longer than audio duration, skipping...
对齐完成。

步骤 3/4: 初始化SRT文件写入器...
-> 原始转录结果已保存到: D:\Python\Project\VideoTran\output\Volcal_wpx_1.srt
处理过程中发生严重错误: 'language'
Traceback (most recent call last):
  File "D:\Python\Project\VideoTran\wpx.py", line 76, in recognize_speakers_and_generate_text
    srt_writer(result_aligned, temp_audio_path_2, writer_options)
  File "C:\Users\Administrator\.conda\envs\whisper\Lib\site-packages\whisperx\utils.py", line 206, in __call__      
    self.write_result(result, file=f, options=options)
  File "C:\Users\Administrator\.conda\envs\whisper\Lib\site-packages\whisperx\utils.py", line 356, in write_result  
    for i, (start, end, text) in enumerate(
  File "C:\Users\Administrator\.conda\envs\whisper\Lib\site-packages\whisperx\utils.py", line 290, in iterate_result
    if result["language"] in LANGUAGES_WITHOUT_SPACES:
       ~~~~~~^^^^^^^^^^^^
KeyError: 'language'
--- 独立测试完成 ---
``````

执行报错, 请排查

## 注意事项

- 当前项目所在conda环境是`conda activate whisper`, 执行python命令的时候注意下这个
