# 问题列表

## 描述

``````log
步骤 2/4: 使用 whisperx 加载对齐模型并对齐结果...
C:\Users\Administrator\.conda\envs\videotran\Lib\site-packages\transformers\configuration_utils.py:334: UserWarning: Passing `gradient_checkpointing` to a config initialization is deprecated and will be removed in v5 Transformers. Using `model.gradient_checkpointing_enable()` instead, or if you are using the `Trainer` API, pass `gradient_checkpointing=True` in 
your `TrainingArguments`.
  warnings.warn(
Due to a serious vulnerability issue in `torch.load`, even with `weights_only=True`, we now require users to upgrade torch to at least v2.6 in order to use the function. This version restriction does not apply when loading files with safetensors.
See the vulnerability report here https://nvd.nist.gov/vuln/detail/CVE-2025-32434
Error loading model from huggingface, check https://huggingface.co/models for finetuned wav2vec2.0 models
处理过程中发生严重错误: The chosen align_model "jonatasgrosman/wav2vec2-large-xlsr-53-chinese-zh-cn" could not be found in huggingface (https://huggingface.co/models) or torchaudio (https://pytorch.org/audio/stable/pipelines.html#id14)       
Traceback (most recent call last):
  File "C:\Users\Administrator\.conda\envs\videotran\Lib\site-packages\whisperx\alignment.py", line 98, in load_align_model
    align_model = Wav2Vec2ForCTC.from_pretrained(model_name, cache_dir=model_dir)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\.conda\envs\videotran\Lib\site-packages\transformers\modeling_utils.py", line 316, in _wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\.conda\envs\videotran\Lib\site-packages\transformers\modeling_utils.py", line 5061, in from_pretrained
    ) = cls._load_pretrained_model(
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\.conda\envs\videotran\Lib\site-packages\transformers\modeling_utils.py", line 5327, in _load_pretrained_model
    load_state_dict(checkpoint_files[0], map_location="meta", weights_only=weights_only).keys()
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\.conda\envs\videotran\Lib\site-packages\transformers\modeling_utils.py", line 561, in load_state_dict
    check_torch_load_is_safe()
  File "C:\Users\Administrator\.conda\envs\videotran\Lib\site-packages\transformers\utils\import_utils.py", line 1622, in check_torch_load_is_safe
    raise ValueError(
ValueError: Due to a serious vulnerability issue in `torch.load`, even with `weights_only=True`, we now require users to 
upgrade torch to at least v2.6 in order to use the function. This version restriction does not apply when loading files with safetensors.
See the vulnerability report here https://nvd.nist.gov/vuln/detail/CVE-2025-32434

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Python\Project\VideoTran\wpx.py", line 51, in recognize_speakers_and_generate_text
    align_model, align_metadata = whisperx.load_align_model(language_code=info.language, device=device)
                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\.conda\envs\videotran\Lib\site-packages\whisperx\__init__.py", line 11, in load_align_model
    return alignment.load_align_model(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\.conda\envs\videotran\Lib\site-packages\whisperx\alignment.py", line 102, in load_align_model
    raise ValueError(f'The chosen align_model "{model_name}" could not be found in huggingface (https://huggingface.co/models) or torchaudio (https://pytorch.org/audio/stable/pipelines.html#id14)')
ValueError: The chosen align_model "jonatasgrosman/wav2vec2-large-xlsr-53-chinese-zh-cn" could not be found in huggingface (https://huggingface.co/models) or torchaudio (https://pytorch.org/audio/stable/pipelines.html#id14)
--- 独立测试完成 ---
(videotran) PS D:\Python\Project\VideoTran> 
``````

执行`python wpx.py`报错, 请排查

## 注意事项

- 当前项目所在conda环境是`conda activate whisper`, 执行python命令的时候注意下这个
